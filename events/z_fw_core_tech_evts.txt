###_infinite stellaris core-科技	####################################################################
#_与国家有关的核心功能
namespace = z_fw_core_tech

###_flag引用
#_global_flag	[z_fw_core_weap_tech_linkage]Z FW
#_global_flag	[acot_activated]ACOT
#_global_flag	[nhsc_v30]ESC




###_[tech联动]<id=1>	on_action=[on_tech_increased]	#########################################

###_E laser <id=11> ESC<神秘laser>
#_[z_fw_tech_weap_energy_laser_]
country_event = {
	id = z_fw_core_tech.11
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_laser_enig"
			last_increased_tech = "tech_laser_dm"
			last_increased_tech = "nhsc_tech_laser_6"
			#_ESC
			last_increased_tech = "nhsc_tech_cloud_lightning_2"
			last_increased_tech = "nhsc_tech_mining_laser_2"
			last_increased_tech = "nhsc_tech_psionic_cannon_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_laser_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_laser_7"
			last_increased_tech = "nhsc_tech_cloud_lightning_3"
			last_increased_tech = "nhsc_tech_mining_laser_3"
			last_increased_tech = "nhsc_tech_psionic_cannon_2"
			last_increased_tech = "nhsc_tech_enigmatic_lash"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_laser"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_psionic_cannon_3"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_laser"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_laser_enig"
					last_increased_tech = "tech_laser_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_laser_6"
					last_increased_tech = "nhsc_tech_cloud_lightning_2"
					last_increased_tech = "nhsc_tech_mining_laser_2"
					last_increased_tech = "nhsc_tech_psionic_cannon_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_laser_6 } }
				give_technology = { tech = z_fw_tech_weap_energy_laser_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_laser_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_laser_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_laser_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_laser_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_laser_6 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_laser_6 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_cloud_lightning_2 }
						has_global_flag = nhsc_v30
						has_technology = tech_space_cloud_weapon_1		#_VANILLA
					}
					give_technology = { tech = nhsc_tech_cloud_lightning_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_mining_laser_2 }
						has_global_flag = nhsc_v30
						has_technology = tech_mining_drone_weapon_1		#_VANILLA
					}
					give_technology = { tech = nhsc_tech_mining_laser_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_cannon_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons		#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_cannon_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_laser_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_laser_7"
					last_increased_tech = "nhsc_tech_cloud_lightning_3"
					last_increased_tech = "nhsc_tech_mining_laser_3"
					last_increased_tech = "nhsc_tech_psionic_cannon_2"
					last_increased_tech = "nhsc_tech_enigmatic_lash"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_laser_7 } }
				give_technology = { tech = z_fw_tech_weap_energy_laser_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_laser_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_laser_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_laser_7 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_laser_7 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_cloud_lightning_3 }
						has_global_flag = nhsc_v30
						has_technology = tech_space_cloud_weapon_1		#_VANILLA
					}
					give_technology = { tech = nhsc_tech_cloud_lightning_3 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_mining_laser_3 }
						has_global_flag = nhsc_v30
						has_technology = tech_mining_drone_weapon_1		#_VANILLA
					}
					give_technology = { tech = nhsc_tech_mining_laser_3 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_cannon_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons		#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_cannon_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_enigmatic_lash }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_enigmatic_energy_harvesting		#_ESC
					}
					give_technology = { tech = nhsc_tech_enigmatic_lash message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_laser"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_psionic_cannon_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_laser_8 } }
				give_technology = { tech = z_fw_tech_weap_energy_laser_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_laser }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_laser message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_cannon_3 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons		#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_cannon_3 message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_laser" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_laser_9 } }
				give_technology = { tech = z_fw_tech_weap_energy_laser_9 message = no }
			}
		}
	}
}

#_E disruptor <id=12> ESC<神秘discharger>
#_[z_fw_tech_weap_energy_disr_]
country_event = {
	id = z_fw_core_tech.12
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_disruptor_enig"
			last_increased_tech = "tech_disruptor_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_disruptors_4"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_disruptor_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_disruptors_5"
			last_increased_tech = "nhsc_tech_extradimensional_weapon_2"
			last_increased_tech = "nhsc_tech_enigmatic_discharger"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_disruptor"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_chrono_vortex_cannon"
			last_increased_tech = "nhsc_tech_extradimensional_weapon_3"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_disruptor"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_disruptor_enig"
					last_increased_tech = "tech_disruptor_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_disruptors_4"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_disr_6 } }
				give_technology = { tech = z_fw_tech_weap_energy_disr_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_disruptor_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_disruptor_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_disruptor_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_disruptor_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_disruptors_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_disruptors_4 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_disruptor_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_disruptors_5"
					last_increased_tech = "nhsc_tech_extradimensional_weapon_2"
					last_increased_tech = "nhsc_tech_enigmatic_discharger"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_disr_7 } }
				give_technology = { tech = z_fw_tech_weap_energy_disr_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_disruptor_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_disruptor_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_disruptors_5 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_disruptors_5 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_enigmatic_discharger }
						has_global_flag = acot_activated
						has_technology = nhsc_tech_enigmatic_energy_harvesting	#_ESC
					}
					give_technology = { tech = nhsc_tech_enigmatic_discharger message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_disruptor"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_chrono_vortex_cannon"
					last_increased_tech = "nhsc_tech_extradimensional_weapon_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_disr_8 } }
				give_technology = { tech = z_fw_tech_weap_energy_disr_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_disruptor }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_disruptor message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_chrono_vortex_cannon }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_chrono_spatial_weapons		#_ESC
					}
					give_technology = { tech = nhsc_tech_chrono_vortex_cannon message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_disruptor" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_disr_9 } }
				give_technology = { tech = z_fw_tech_weap_energy_disr_9 message = no }
			}
		}
	}
}

#_E plasm <id=13>
#_[z_fw_tech_weap_energy_plasm_]
country_event = {
	id = z_fw_core_tech.13
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_plasma_enig"
			last_increased_tech = "tech_plasma_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_plasma_4"
			last_increased_tech = "nhsc_tech_plasma_missiles_1"
			last_increased_tech = "nhsc_tech_gravitic_cannon_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_plasma_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_plasma_5"
			last_increased_tech = "nhsc_tech_plasma_missiles_2"
			last_increased_tech = "nhsc_tech_gravitic_cannon_2"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_plasma_cannon"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_plasma_missiles_3"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_plasma_cannon"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_plasma_enig"
					last_increased_tech = "tech_plasma_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_plasma_4"
					last_increased_tech = "nhsc_tech_plasma_missiles_1"
					last_increased_tech = "nhsc_tech_gravitic_cannon_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_plasm_6 } }
				give_technology = { tech = z_fw_tech_weap_energy_plasm_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_plasma_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_plasma_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_plasma_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_plasma_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_plasma_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_plasma_4 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_plasma_missiles_1 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_plasma_missiles_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_gravitic_cannon_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_gravity_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_gravitic_cannon_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_plasma_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_plasma_5"
					last_increased_tech = "nhsc_tech_plasma_missiles_2"
					last_increased_tech = "nhsc_tech_gravitic_cannon_2"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_plasm_7 } }
				give_technology = { tech = z_fw_tech_weap_energy_plasm_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_plasma_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_plasma_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_plasma_5 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_plasma_5 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_plasma_missiles_2 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_plasma_missiles_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_gravitic_cannon_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_gravity_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_gravitic_cannon_2 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_plasma_cannon"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_plasma_missiles_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_plasm_8 } }
				give_technology = { tech = z_fw_tech_weap_energy_plasm_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_plasma_cannon }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_plasma_cannon message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_plasma_missiles_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_plasma_missiles_3 message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_plasma_cannon" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_plasm_9 } }
				give_technology = { tech = z_fw_tech_weap_energy_plasm_9 message = no }
			}
		}
	}
}

#_E photon torpedo <id=14>
#_[z_fw_tech_weap_energy_torpedo_]
country_event = {
	id = z_fw_core_tech.14
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_energy_torpedo_enig"
			last_increased_tech = "tech_energy_torpedo_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_energy_launcher_3"
			last_increased_tech = "nhsc_tech_gravitic_torpedo_1"
			last_increased_tech = "nhsc_tech_psionic_torpedo_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_energy_torpedo_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_energy_launcher_4"
			last_increased_tech = "nhsc_tech_gravitic_torpedo_2"
			last_increased_tech = "nhsc_tech_psionic_torpedo_2"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_shroud_missile"
			last_increased_tech = "tech_stellarite_photon"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_photon"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_energy_torpedo_enig"
					last_increased_tech = "tech_energy_torpedo_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_energy_launcher_3"
					last_increased_tech = "nhsc_tech_gravitic_torpedo_1"
					last_increased_tech = "nhsc_tech_psionic_torpedo_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_torpedo_6 } }
				give_technology = { tech = z_fw_tech_weap_energy_torpedo_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_energy_torpedo_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_energy_torpedo_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_energy_torpedo_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_energy_torpedo_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_energy_launcher_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_energy_launcher_3 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_gravitic_torpedo_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_gravity_weapons		#_ESC
					}
					give_technology = { tech = nhsc_tech_gravitic_torpedo_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_torpedo_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons		#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_torpedo_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_energy_torpedo_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_energy_launcher_4"
					last_increased_tech = "nhsc_tech_gravitic_torpedo_2"
					last_increased_tech = "nhsc_tech_psionic_torpedo_2"	
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_torpedo_7 } }
				give_technology = { tech = z_fw_tech_weap_energy_torpedo_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_energy_torpedo_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_energy_torpedo_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_energy_launcher_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_energy_launcher_4 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_gravitic_torpedo_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_gravity_weapons		#_ESC
					}
					give_technology = { tech = nhsc_tech_gravitic_torpedo_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_torpedo_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons		#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_torpedo_2 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_shroud_missile"
					last_increased_tech = "tech_stellarite_photon"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_torpedo_8 } }
				give_technology = { tech = z_fw_tech_weap_energy_torpedo_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_shroud_missile }
						has_global_flag = acot_activated
						has_technology = tech_precursor_design	#_ACOT
					}
					give_technology = { tech = tech_shroud_missile message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_photon }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_photon message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_photon" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_torpedo_9 } }
				give_technology = { tech = z_fw_tech_weap_energy_torpedo_9 message = no }
			}
		}
	}
}

#_E point defence <id=15> ESC<神秘pd+s>
#_[z_fw_tech_weap_energy_pd_]
country_event = {
	id = z_fw_core_tech.15
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_point_defense_enig"
			last_increased_tech = "tech_point_defense_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_pd_tracking_4"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_point_defense_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_pd_tracking_5"
			last_increased_tech = "nhsc_tech_enigmatic_autocannon"
			last_increased_tech = "nhsc_tech_extradimensional_pd"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_point_defence"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_point_defence"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_point_defense_enig"
					last_increased_tech = "tech_point_defense_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_pd_tracking_4"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_pd_6 } }
				give_technology = { tech = z_fw_tech_weap_energy_pd_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_point_defense_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_point_defense_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_point_defense_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_point_defense_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_pd_tracking_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_pd_tracking_4 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_point_defense_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_pd_tracking_5"
					last_increased_tech = "nhsc_tech_enigmatic_autocannon"
					last_increased_tech = "nhsc_tech_extradimensional_pd"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_pd_7 } }
				give_technology = { tech = z_fw_tech_weap_energy_pd_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_point_defense_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_point_defense_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_pd_tracking_5 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_pd_tracking_5 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_enigmatic_autocannon }
						has_global_flag = acot_activated
						has_technology = nhsc_tech_enigmatic_energy_harvesting	#_ESC
					}
					give_technology = { tech = nhsc_tech_enigmatic_autocannon message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_extradimensional_pd }
						has_global_flag = acot_activated
						has_technology = nhsc_tech_enigmatic_energy_harvesting	#_ESC
					}
					give_technology = { tech = nhsc_tech_extradimensional_pd message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_point_defence"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_pd_8 } }
				give_technology = { tech = z_fw_tech_weap_energy_pd_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_point_defence }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_point_defence message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_point_defence" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_energy_pd_9 } }
				give_technology = { tech = z_fw_tech_weap_energy_pd_9 message = no }
			}
		}
	}
}




#_K gauss <id=21>
#_[z_fw_tech_weap_kinetic_gauss_]
country_event = {
	id = z_fw_core_tech.21
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_mass_driver_enig"
			last_increased_tech = "tech_mass_driver_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_crystal_cannon_4"
			last_increased_tech = "nhsc_tech_mass_driver_6"
			last_increased_tech = "nhsc_tech_nanite_cannon_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_mass_driver_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_crystal_cannon_5"
			last_increased_tech = "nhsc_tech_mass_driver_7"
			last_increased_tech = "nhsc_tech_nanite_cannon_2"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_gauss"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_gauss"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_mass_driver_enig"
					last_increased_tech = "tech_mass_driver_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_crystal_cannon_4"
					last_increased_tech = "nhsc_tech_mass_driver_6"
					last_increased_tech = "nhsc_tech_nanite_cannon_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_gauss_6 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_gauss_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_mass_driver_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_mass_driver_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_mass_driver_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_mass_driver_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_mass_driver_6 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_mass_driver_6 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_crystal_cannon_4 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_crystal_cannon_1	#_ESC
					}
					give_technology = { tech = nhsc_tech_crystal_cannon_4 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_nanite_cannon_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_nanite_cannon_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_mass_driver_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_crystal_cannon_5"
					last_increased_tech = "nhsc_tech_mass_driver_7"
					last_increased_tech = "nhsc_tech_nanite_cannon_2"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_gauss_7 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_gauss_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_mass_driver_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_mass_driver_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_mass_driver_7 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_mass_driver_7 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_crystal_cannon_5 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_crystal_cannon_1	#_ESC
					}
					give_technology = { tech = nhsc_tech_crystal_cannon_5 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_nanite_cannon_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_nanite_cannon_2 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_gauss"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_gauss_8 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_gauss_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_gauss }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_gauss message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_gauss" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_gauss_9 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_gauss_9 message = no }
			}
		}
	}
}

#_K artillery <id=22>
#_[z_fw_tech_weap_kinetic_artillery_]
country_event = {
	id = z_fw_core_tech.22
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_kinetic_artillery_dm"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_resized_mass_accelerator_ae"
			last_increased_tech = "tech_kinetic_artillery_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_kinetic_artillery_3"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_resized_mass_accelerator_se"
			last_increased_tech = "tech_stellarite_artillery"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_kinetic_artillery_4"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_resized_mass_accelerator_oe"
			last_increased_tech = "tech_lightmatter_artillery"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_kinetic_artillery_dm"
					last_increased_tech = "tech_resized_mass_accelerator_dm"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_artillery_6 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_artillery_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_kinetic_artillery_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_ACOT
					}
					give_technology = { tech = tech_kinetic_artillery_dm message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_resized_mass_accelerator_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_resized_mass_accelerator_dm message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_resized_mass_accelerator_ae"
					last_increased_tech = "tech_kinetic_artillery_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_kinetic_artillery_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_artillery_7 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_artillery_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_resized_mass_accelerator_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_resized_mass_accelerator_ae message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_kinetic_artillery_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_kinetic_artillery_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_kinetic_artillery_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_kinetic_artillery_3 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_resized_mass_accelerator_se"
					last_increased_tech = "tech_stellarite_artillery"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_kinetic_artillery_4"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_artillery_8 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_artillery_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_resized_mass_accelerator_se }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_resized_mass_accelerator_se message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_artillery }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_artillery message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_kinetic_artillery_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_kinetic_artillery_4 message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_resized_mass_accelerator_oe"
					last_increased_tech = "tech_lightmatter_artillery"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_artillery_9 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_artillery_9 message = no }
			}
		}
	}
}

#_K gatling <id=23>
#_[z_fw_tech_weap_kinetic_gatling_]
country_event = {
	id = z_fw_core_tech.23
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_autocannons_enig"
			last_increased_tech = "tech_autocannons_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_autocannon_4"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_autocannons_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_autocannon_5"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_autocannon"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_autocannon"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_autocannons_enig"
					last_increased_tech = "tech_autocannons_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_autocannon_4"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_gatling_6 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_gatling_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_autocannons_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_autocannons_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_autocannons_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_autocannons_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_autocannon_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_autocannon_4 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_autocannons_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_autocannon_5"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_gatling_7 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_gatling_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_autocannons_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_autocannons_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_autocannon_5 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_autocannon_5 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_autocannon"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_gatling_8 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_gatling_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_autocannon }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_autocannon message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_autocannon" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_gatling_9 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_gatling_9 message = no }
			}
		}
	}
}

#_K flak <id=24>
#_[z_fw_tech_weap_kinetic_flak_]
country_event = {
	id = z_fw_core_tech.24
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_flak_batteries_enig"
			last_increased_tech = "tech_flak_batteries_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_flak_battery_4"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_flak_batteries_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_flak_battery_5"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_flak"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_flak"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_flak_batteries_enig"
					last_increased_tech = "tech_flak_batteries_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_flak_battery_4"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_flak_6 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_flak_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_flak_batteries_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_flak_batteries_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_flak_batteries_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_flak_batteries_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_flak_battery_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_flak_battery_4 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_flak_batteries_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_flak_battery_5"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_flak_7 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_flak_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_flak_batteries_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_flak_batteries_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_flak_battery_5 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_flak_battery_5 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_flak"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_flak_8 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_flak_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_flak }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_flak message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_flak" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_kinetic_flak_9 } }
				give_technology = { tech = z_fw_tech_weap_kinetic_flak_9 message = no }
			}
		}
	}
}




#_M missile <id=31>
#_[z_fw_tech_weap_missile_]
country_event = {
	id = z_fw_core_tech.31
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_missile_enig"
			last_increased_tech = "tech_missile_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_missile_6"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_missile_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_missile_7"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_missile"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_missile"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_missile_enig"
					last_increased_tech = "tech_missile_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_missile_6"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_missile_6 } }
				give_technology = { tech = z_fw_tech_weap_missile_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_missile_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_missile_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_missile_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_missile_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_missile_6 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_missile_6 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_missile_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_missile_7"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_missile_7 } }
				give_technology = { tech = z_fw_tech_weap_missile_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_missile_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_missile_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_missile_7 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_missile_7 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_missile"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_missile_8 } }
				give_technology = { tech = z_fw_tech_weap_missile_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_missile }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_missile message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_lightmatter_missile" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_missile_9 } }
				give_technology = { tech = z_fw_tech_weap_missile_9 message = no }
			}
		}
	}
}

#_M torpedo <id=32>
#_[z_fw_tech_weap_torpedo_]
country_event = {
	id = z_fw_core_tech.32
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_torpedo_enig"
			last_increased_tech = "tech_torpedo_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_torpedoes_4"
			last_increased_tech = "nhsc_tech_nanite_torpedo_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_torpedo_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_torpedoes_5"
			last_increased_tech = "nhsc_tech_nanite_torpedo_2"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_corrosivewarheadtorpedo"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_torpedo_enig"
					last_increased_tech = "tech_torpedo_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_torpedoes_4"
					last_increased_tech = "nhsc_tech_nanite_torpedo_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_torpedo_6 } }
				give_technology = { tech = z_fw_tech_weap_torpedo_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_torpedo_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_torpedo_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_torpedo_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_torpedo_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_torpedoes_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_torpedoes_4 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_nanite_torpedo_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_nanite_torpedo_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_torpedo_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_torpedoes_5"
					last_increased_tech = "nhsc_tech_nanite_torpedo_2"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_torpedo_7 } }
				give_technology = { tech = z_fw_tech_weap_torpedo_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_torpedo_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_torpedo_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_torpedoes_5 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_torpedoes_5 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_nanite_torpedo_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_nanite_torpedo_2 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_corrosivewarheadtorpedo"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_torpedo_8 } }
				give_technology = { tech = z_fw_tech_weap_torpedo_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_corrosivewarheadtorpedo }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_chrono_spatial_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_corrosivewarheadtorpedo message = no }
				}
			}
		}
	}
}

#_M swarm missiles <id=33>
#_[z_fw_tech_weap_missile_swarm_]
country_event = {
	id = z_fw_core_tech.33
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_swarmer_missile_enig"
			last_increased_tech = "tech_swarmer_missile_dm"
			last_increased_tech = "tech_barrage_missile_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_swarmermissiles_3"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_swarmer_missile_ae"
			last_increased_tech = "tech_barrage_missile_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_swarmermissiles_4"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_barrage_missile_se"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_barrage_missile_oe"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_swarmer_missile_enig"
					last_increased_tech = "tech_swarmer_missile_dm"
					last_increased_tech = "tech_barrage_missile_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_swarmermissiles_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_missile_swarm_6 } }
				give_technology = { tech = z_fw_tech_weap_missile_swarm_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_swarmer_missile_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_swarmer_missile_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_swarmer_missile_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_swarmer_missile_dm message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_barrage_missile_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_barrage_missile_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_swarmermissiles_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_swarmermissiles_3 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_swarmer_missile_ae"
					last_increased_tech = "tech_barrage_missile_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_swarmermissiles_4"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_missile_swarm_7 } }
				give_technology = { tech = z_fw_tech_weap_missile_swarm_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_swarmer_missile_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_swarmer_missile_ae message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_barrage_missile_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_barrage_missile_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_swarmermissiles_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_swarmermissiles_4 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_barrage_missile_se"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_missile_swarm_8 } }
				give_technology = { tech = z_fw_tech_weap_missile_swarm_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_barrage_missile_se }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_barrage_missile_se message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = { last_increased_tech = "tech_barrage_missile_oe" }
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_missile_swarm_9 } }
				give_technology = { tech = z_fw_tech_weap_missile_swarm_9 message = no }
			}
		}
	}
}


#_H strike craft <id=34>
#_[z_fw_tech_weap_hanger_]
country_event = {
	id = z_fw_core_tech.34
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_strike_craft_bomber_enig"
			last_increased_tech = "tech_strike_craft_bomber_dm"
			last_increased_tech = "tech_strike_craft_gunship_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_tactical_strikecrafts"
			last_increased_tech = "nhsc_tech_amoeba_strike_craft_2"
			last_increased_tech = "nhsc_tech_strikecrafts_mercenary_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_strike_craft_bomber_ae"
			last_increased_tech = "tech_strike_craft_gunship_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_siegebreaker_strikecrafts"
			last_increased_tech = "nhsc_tech_strikecrafts_mercenary_2"
			last_increased_tech = "nhsc_tech_gravitic_strikecrafts"
			last_increased_tech = "nhsc_tech_nanite_strikecraft"
			last_increased_tech = "nhsc_tech_psionic_strikecraft"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_shroud_hanger"
			last_increased_tech = "tech_stellarite_fighter"
			last_increased_tech = "tech_stellarite_bomber"
			last_increased_tech = "tech_stellarite_gunship"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_fighter"
			last_increased_tech = "tech_lightmatter_bomber"
			last_increased_tech = "tech_lightmatter_gunship"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_strike_craft_bomber_enig"
					last_increased_tech = "tech_strike_craft_bomber_dm"
					last_increased_tech = "tech_strike_craft_gunship_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_tactical_strikecrafts"
					last_increased_tech = "nhsc_tech_amoeba_strike_craft_2"
					last_increased_tech = "nhsc_tech_strikecrafts_mercenary_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_hanger_6 } }
				give_technology = { tech = z_fw_tech_weap_hanger_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_strike_craft_bomber_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_strike_craft_bomber_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_strike_craft_bomber_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_strike_craft_bomber_dm message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_strike_craft_gunship_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_strike_craft_gunship_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_tactical_strikecrafts }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_tactical_strikecrafts message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_amoeba_strike_craft_2 }
						has_global_flag = nhsc_v30
						has_technology = tech_amoeba_strike_craft_1	#_VANILLA
					}
					give_technology = { tech = nhsc_tech_amoeba_strike_craft_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_strikecrafts_mercenary_1 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_strikecrafts_mercenary_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_strike_craft_bomber_ae"
					last_increased_tech = "tech_strike_craft_gunship_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_siegebreaker_strikecrafts"
					last_increased_tech = "nhsc_tech_strikecrafts_mercenary_2"
					last_increased_tech = "nhsc_tech_gravitic_strikecrafts"
					last_increased_tech = "nhsc_tech_nanite_strikecraft"
					last_increased_tech = "nhsc_tech_psionic_strikecraft"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_hanger_7 } }
				give_technology = { tech = z_fw_tech_weap_hanger_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_strike_craft_bomber_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_strike_craft_bomber_ae message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_strike_craft_gunship_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_strike_craft_gunship_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_siegebreaker_strikecrafts }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_siegebreaker_strikecrafts message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_strikecrafts_mercenary_2 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_strikecrafts_mercenary_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_gravitic_strikecrafts }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_gravity_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_gravitic_strikecrafts message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_nanite_strikecraft }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_nanite_strikecraft message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_strikecraft }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_strikecraft message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_shroud_hanger"
					last_increased_tech = "tech_stellarite_fighter"
					last_increased_tech = "tech_stellarite_bomber"
					last_increased_tech = "tech_stellarite_gunship"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = {
					NOT = { has_technology = z_fw_tech_weap_hanger_8 }
				}
				give_technology = { tech = z_fw_tech_weap_hanger_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_fighter }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_fighter message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_bomber }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_bomber message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_gunship }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_gunship message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_lightmatter_fighter"
					last_increased_tech = "tech_lightmatter_bomber"
					last_increased_tech = "tech_lightmatter_gunship"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_hanger_9 } }
				give_technology = { tech = z_fw_tech_weap_hanger_9 message = no }
			}
		}
	}
}




#_XL lancer <id=41> ESC<神秘xl>
#_[z_fw_tech_weap_xl_lance_]
country_event = {
	id = z_fw_core_tech.41
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_energy_lance_enig"
			last_increased_tech = "tech_perdition_beam_enig"
			last_increased_tech = "tech_energy_lance_dm"
			last_increased_tech = "tech_perdition_beam_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_gravitic_lance_1"
			last_increased_tech = "nhsc_tech_psionic_lance_1"
			last_increased_tech = "nhsc_tech_energy_lance_3"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_energy_lance_ae"
			last_increased_tech = "tech_perdition_beam_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_gravitic_lance_2"
			last_increased_tech = "nhsc_tech_gravitic_lance_titanic"
			last_increased_tech = "nhsc_tech_psionic_lance_2"
			last_increased_tech = "nhsc_tech_psionic_lance_titanic"
			last_increased_tech = "nhsc_tech_energy_lance_4"
			last_increased_tech = "nhsc_tech_energy_lance_titanic"
			last_increased_tech = "nhsc_tech_extradimensional_weapon_2_x"
			last_increased_tech = "nhsc_tech_extradimensional_weapon_2_t"
			last_increased_tech = "nhsc_tech_enigmatic_lance"
			last_increased_tech = "nhsc_tech_enigmatic_lance_titanic"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_shroud_storm"
			last_increased_tech = "tech_stellarite_beam"
			last_increased_tech = "tech_stellarite_titan_beam"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_extradimensional_weapon_3_x"
			last_increased_tech = "nhsc_tech_extradimensional_weapon_3_t"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_lance"
			last_increased_tech = "tech_lightmatter_titan_beam"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_energy_lance_enig"
					last_increased_tech = "tech_perdition_beam_enig"
					last_increased_tech = "tech_energy_lance_dm"
					last_increased_tech = "tech_perdition_beam_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_gravitic_lance_1"
					last_increased_tech = "nhsc_tech_psionic_lance_1"
					last_increased_tech = "nhsc_tech_energy_lance_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_lance_6 } }
				give_technology = { tech = z_fw_tech_weap_xl_lance_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_energy_lance_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_energy_lance_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_perdition_beam_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_perdition_beam_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_energy_lance_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_energy_lance_dm message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_perdition_beam_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_perdition_beam_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_gravitic_lance_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_gravity_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_gravitic_lance_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_lance_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_lance_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_energy_lance_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_energy_lance_3 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_energy_lance_ae"
					last_increased_tech = "tech_perdition_beam_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_gravitic_lance_2"
					last_increased_tech = "nhsc_tech_gravitic_lance_titanic"
					last_increased_tech = "nhsc_tech_psionic_lance_2"
					last_increased_tech = "nhsc_tech_psionic_lance_titanic"
					last_increased_tech = "nhsc_tech_energy_lance_4"
					last_increased_tech = "nhsc_tech_energy_lance_titanic"
					last_increased_tech = "nhsc_tech_extradimensional_weapon_2_x"
					last_increased_tech = "nhsc_tech_extradimensional_weapon_2_t"
					last_increased_tech = "nhsc_tech_enigmatic_lance"
					last_increased_tech = "nhsc_tech_enigmatic_lance_titanic"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_lance_7 } }
				give_technology = { tech = z_fw_tech_weap_xl_lance_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_energy_lance_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_energy_lance_ae message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_perdition_beam_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_perdition_beam_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_gravitic_lance_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_gravity_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_gravitic_lance_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_gravitic_lance_titanic }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_gravity_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_gravitic_lance_titanic message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_lance_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_lance_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_lance_titanic }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_lance_titanic message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_energy_lance_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_energy_lance_4 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_energy_lance_titanic }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_energy_lance_titanic message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_enigmatic_lance }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_enigmatic_energy_harvesting	#_ESC
					}
					give_technology = { tech = nhsc_tech_enigmatic_lance message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_enigmatic_lance_titanic }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_enigmatic_energy_harvesting	#_ESC
					}
					give_technology = { tech = nhsc_tech_enigmatic_lance_titanic message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_shroud_storm"
					last_increased_tech = "tech_stellarite_beam"
					last_increased_tech = "tech_stellarite_titan_beam"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_extradimensional_weapon_3_x"
					last_increased_tech = "nhsc_tech_extradimensional_weapon_3_t"
				}
			}
			if = {
				limit = {
					NOT = { has_technology = z_fw_tech_weap_xl_lance_8 }
				}
				give_technology = { tech = z_fw_tech_weap_xl_lance_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_beam }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_beam message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_titan_beam }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_titan_beam message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				last_increased_tech = "tech_lightmatter_lance"
				last_increased_tech = "tech_lightmatter_titan_beam"
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_lance_9 } }
				give_technology = { tech = z_fw_tech_weap_xl_lance_9 message = no }
			}
		}
	}
}

#_XL accelerator <id=42>
#_[z_fw_tech_weap_xl_accelerator_]
country_event = {
	id = z_fw_core_tech.42
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_mass_accelerator_enig"
			last_increased_tech = "tech_mass_accelerator_dm"
			last_increased_tech = "tech_titan_accelerator_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_crystal_lance_1"
			last_increased_tech = "nhsc_tech_autocannon_x_1"
			last_increased_tech = "nhsc_tech_mass_accelerator_3"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_mass_accelerator_ae"
			last_increased_tech = "tech_titan_accelerator_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_crystal_lance_2"
			last_increased_tech = "nhsc_tech_crystalline_impaler"
			last_increased_tech = "nhsc_tech_mass_accelerator_4"
			last_increased_tech = "nhsc_tech_mhdcannon"
			last_increased_tech = "nhsc_tech_autocannon_x_2"
			last_increased_tech = "nhsc_tech_autocannon_t"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_warp_stellarite_cannon"
			last_increased_tech = "tech_stellarite_titan_accelerator"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_warp_lightmatter_cannon"
			last_increased_tech = "tech_lightmatter_titan_accelerator"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_mass_accelerator_enig"
					last_increased_tech = "tech_mass_accelerator_dm"
					last_increased_tech = "tech_titan_accelerator_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_crystal_lance_1"
					last_increased_tech = "nhsc_tech_autocannon_x_1"
					last_increased_tech = "nhsc_tech_mass_accelerator_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_accelerator_6 } }
				give_technology = { tech = z_fw_tech_weap_xl_accelerator_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_mass_accelerator_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_mass_accelerator_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_mass_accelerator_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_mass_accelerator_dm message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_titan_accelerator_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_titan_accelerator_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_crystal_lance_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_crystal_cannon_1	#_ESC
					}
					give_technology = { tech = nhsc_tech_crystal_lance_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_autocannon_x_1 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_autocannon_x_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_mass_accelerator_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_mass_accelerator_3 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_mass_accelerator_ae"
					last_increased_tech = "tech_titan_accelerator_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_crystal_lance_2"
					last_increased_tech = "nhsc_tech_crystalline_impaler"
					last_increased_tech = "nhsc_tech_mass_accelerator_4"
					last_increased_tech = "nhsc_tech_mhdcannon"
					last_increased_tech = "nhsc_tech_autocannon_x_2"
					last_increased_tech = "nhsc_tech_autocannon_t"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_accelerator_7 } }
				give_technology = { tech = z_fw_tech_weap_xl_accelerator_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_energy_lance_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_energy_lance_ae message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_titan_accelerator_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_titan_accelerator_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_crystal_lance_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_crystal_cannon_1	#_ESC
					}
					give_technology = { tech = nhsc_tech_crystal_lance_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_crystalline_impaler }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_crystal_cannon_1	#_ESC
					}
					give_technology = { tech = nhsc_tech_crystalline_impaler message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_mass_accelerator_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_mass_accelerator_4 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_mhdcannon }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_mhdcannon message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_autocannon_x_2 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_autocannon_x_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_autocannon_t }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_autocannon_t message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_warp_stellarite_cannon"
					last_increased_tech = "tech_stellarite_titan_accelerator"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = {
					NOT = { has_technology = z_fw_tech_weap_xl_accelerator_8 }
				}
				give_technology = { tech = z_fw_tech_weap_xl_accelerator_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_warp_stellarite_cannon }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_warp_stellarite_cannon message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_titan_accelerator }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_titan_accelerator message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_warp_lightmatter_cannon"
					last_increased_tech = "tech_lightmatter_titan_accelerator"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_accelerator_9 } }
				give_technology = { tech = z_fw_tech_weap_xl_accelerator_9 message = no }
			}
		}
	}
}

#_XL+T arc emitter <id=43>
#_[z_fw_tech_weap_xl_emitter_]
country_event = {
	id = z_fw_core_tech.43
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_arc_emitter_enig"
			last_increased_tech = "tech_arc_emitter_dm"
			last_increased_tech = "tech_titan_emitter_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_arc_emitter_3"
			last_increased_tech = "nhsc_tech_wavemotiongun_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_arc_emitter_ae"
			last_increased_tech = "tech_titan_emitter_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_arc_emitter_4"
			last_increased_tech = "nhsc_tech_arc_emitter_titanic"
			last_increased_tech = "nhsc_tech_wavemotiongun_2"
			last_increased_tech = "nhsc_tech_wavemotiongun_3"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_emitter"
			last_increased_tech = "tech_titan_stellarite_emitter"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_arcenciel"
			last_increased_tech = "nhsc_tech_arcenciel_titanic"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_emitter"
			last_increased_tech = "tech_titan_lightmatter_emitter"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_arc_emitter_enig"
					last_increased_tech = "tech_arc_emitter_dm"
					last_increased_tech = "tech_titan_emitter_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_arc_emitter_3"
					last_increased_tech = "nhsc_tech_wavemotiongun_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_emitter_6 } }
				give_technology = { tech = z_fw_tech_weap_xl_emitter_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_arc_emitter_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_arc_emitter_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_arc_emitter_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_arc_emitter_dm message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_titan_emitter_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_titan_emitter_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_arc_emitter_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_arc_emitter_3 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_wavemotiongun_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_advanced_heavy_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_wavemotiongun_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_arc_emitter_ae"
					last_increased_tech = "tech_titan_emitter_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_arc_emitter_4"
					last_increased_tech = "nhsc_tech_arc_emitter_titanic"
					last_increased_tech = "nhsc_tech_wavemotiongun_2"
					last_increased_tech = "nhsc_tech_wavemotiongun_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_emitter_7 } }
				give_technology = { tech = z_fw_tech_weap_xl_emitter_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_arc_emitter_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_arc_emitter_ae message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_titan_emitter_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_titan_emitter_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_arc_emitter_4 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_arc_emitter_4 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_arc_emitter_titanic }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_arc_emitter_titanic message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_wavemotiongun_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_advanced_heavy_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_wavemotiongun_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_wavemotiongun_3 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_advanced_heavy_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_wavemotiongun_3 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_emitter"
					last_increased_tech = "tech_titan_stellarite_emitter"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_arcenciel"
					last_increased_tech = "nhsc_tech_arcenciel_titanic"
				}
			}
			if = {
				limit = {
					NOT = { has_technology = z_fw_tech_weap_xl_emitter_8 }
				}
				give_technology = { tech = z_fw_tech_weap_xl_emitter_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_emitter }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_emitter message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_titan_stellarite_emitter }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_titan_stellarite_emitter message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_arcenciel }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_chrono_vortex_cannon		#_ESC
					}
					give_technology = { tech = nhsc_tech_arcenciel message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_arcenciel_titanic }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_chrono_vortex_cannon		#_ESC
					}
					give_technology = { tech = nhsc_tech_arcenciel_titanic message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				OR = {
					last_increased_tech = "tech_lightmatter_emitter"
					last_increased_tech = "tech_titan_lightmatter_emitter"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_emitter_9 } }
				give_technology = { tech = z_fw_tech_weap_xl_emitter_9 message = no }
			}
		}
	}
}

#_XL+T missile <id=44>
#_[z_fw_tech_weap_xl_missile_]
country_event = {
	id = z_fw_core_tech.44
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_xl_missile_dm"
			last_increased_tech = "tech_missile_nuke_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_xmissile1"
			last_increased_tech = "nhsc_tech_nanite_xslot_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_xl_missile_ae"
			last_increased_tech = "tech_missile_nuke_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_xmissile2"
			last_increased_tech = "nhsc_tech_xmissile3_titanic"
			last_increased_tech = "nhsc_tech_nanite_xslot_2"
			last_increased_tech = "nhsc_tech_nanite_titanic_weapon"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_xl_missile_se"
			last_increased_tech = "tech_missile_nuke_se"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_xl_missile_oe"
			last_increased_tech = "tech_missile_nuke_oe"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_xl_missile_dm"
					last_increased_tech = "tech_missile_nuke_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_xmissile1"
					last_increased_tech = "nhsc_tech_nanite_xslot_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_missile_6 } }
				give_technology = { tech = z_fw_tech_weap_xl_missile_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_xl_missile_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_xl_missile_dm message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_missile_nuke_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_missile_nuke_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_xmissile1 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_xmissile1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_nanite_xslot_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_nanite_xslot_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_xl_missile_ae"
					last_increased_tech = "tech_missile_nuke_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_xmissile2"
					last_increased_tech = "nhsc_tech_xmissile3_titanic"
					last_increased_tech = "nhsc_tech_nanite_xslot_2"
					last_increased_tech = "nhsc_tech_nanite_titanic_weapon"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_missile_7 } }
				give_technology = { tech = z_fw_tech_weap_xl_missile_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_xl_missile_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_xl_missile_ae message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_missile_nuke_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_missile_nuke_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_xmissile2 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_xmissile2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_xmissile3_titanic }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_xmissile3_titanic message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_nanite_xslot_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_nanite_xslot_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_nanite_titanic_weapon }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_nanite_titanic_weapon message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_xl_missile_se"
					last_increased_tech = "tech_missile_nuke_se"
					last_increased_tech = "tech_dark_matter_power_core_pe"
				}
			}
			if = {
				limit = {
					NOT = { has_technology = z_fw_tech_weap_xl_missile_8 }
				}
				give_technology = { tech = z_fw_tech_weap_xl_missile_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_xl_missile_se }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_xl_missile_se message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_missile_nuke_se }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_missile_nuke_se message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_xl_missile_oe"
					last_increased_tech = "tech_missile_nuke_oe"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_weap_xl_missile_9 } }
				give_technology = { tech = z_fw_tech_weap_xl_missile_9 message = no }
			}
		}
	}
}




#_D armor <id=51>
#_[z_fw_tech_device_armor_]
country_event = {
	id = z_fw_core_tech.51
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_armor_enig"
			last_increased_tech = "tech_armor_dm"
			#_ESC
			last_increased_tech = "nhsc_tech_armor_6"
			last_increased_tech = "nhsc_tech_armor_nanite_1"
			last_increased_tech = "nhsc_tech_armor_shield_1"
			last_increased_tech = "nhsc_tech_crystal_armor_3"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_armor_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_armor_7"
			last_increased_tech = "nhsc_tech_armor_nanite_2"
			last_increased_tech = "nhsc_tech_armor_shield_2"
			last_increased_tech = "nhsc_tech_armor_wraith"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_armor"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_armor_dragonscales_nanite"
			last_increased_tech = "nhsc_tech_armor_shield_3"
			last_increased_tech = "nhsc_tech_armor_horror"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_armor"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_armor_enig"
					last_increased_tech = "tech_armor_dm"
					#_ESC
					last_increased_tech = "nhsc_tech_armor_6"
					last_increased_tech = "nhsc_tech_armor_nanite_1"
					last_increased_tech = "nhsc_tech_armor_shield_1"
					last_increased_tech = "nhsc_tech_crystal_armor_3"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_armor_6 } }
				give_technology = { tech = z_fw_tech_device_armor_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_armor_enig }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_armor_enig message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_armor_dm }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_armor_dm message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_armor_6 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_armor_6 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_armor_nanite_1 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_armor_nanite_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_armor_shield_1 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_armor_shield_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_crystal_armor_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_crystal_armor_3 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_armor_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_armor_7"
					last_increased_tech = "nhsc_tech_armor_nanite_2"
					last_increased_tech = "nhsc_tech_armor_shield_2"
					last_increased_tech = "nhsc_tech_armor_wraith"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_armor_7 } }
				give_technology = { tech = z_fw_tech_device_armor_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_armor_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_armor_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_armor_7 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_armor_7 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_armor_nanite_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
					}
					give_technology = { tech = nhsc_tech_armor_nanite_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_armor_shield_2 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_armor_shield_2 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_armor"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_armor_dragonscales_nanite"
					last_increased_tech = "nhsc_tech_armor_shield_3"
					last_increased_tech = "nhsc_tech_armor_horror"
				}
			}
			if = {
				limit = {
					NOT = { has_technology = z_fw_tech_device_armor_8 }
				}
				give_technology = { tech = z_fw_tech_device_armor_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_armor }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_armor message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_armor_dragonscales_nanite }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_synthetic_lifeform_studies	#_ESC
						has_technology = tech_dragon_armor		#_VANILLA
					}
					give_technology = { tech = nhsc_tech_armor_dragonscales_nanite message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_armor_shield_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_armor_shield_3 message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_lightmatter_armor"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_armor_9 } }
				give_technology = { tech = z_fw_tech_device_armor_9 message = no }
			}
		}
	}
}

#_D shield <id=52>
#_[z_fw_tech_device_shield_]
country_event = {
	id = z_fw_core_tech.52
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			last_increased_tech = "tech_dark_matter_deflector"
			
			#_ACOT
			last_increased_tech = "tech_enigmatic_shields"
			#_ESC
			last_increased_tech = "nhsc_tech_advanced_shields_1"
			last_increased_tech = "nhsc_tech_shields_cyclonic_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_dark_matter_deflector_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_advanced_shields_2"
			last_increased_tech = "nhsc_tech_shields_cyclonic_2"
			last_increased_tech = "nhsc_tech_dark_matter_shields_2"
			last_increased_tech = "nhsc_tech_psionic_shield_2"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_shield"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_waveforcearmor"
			last_increased_tech = "nhsc_tech_shields_cyclonic_3"
			last_increased_tech = "nhsc_tech_dark_matter_shields_3"
			last_increased_tech = "nhsc_tech_atfield"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_shield"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					last_increased_tech = "tech_dark_matter_deflector"
					#_ACOT
					last_increased_tech = "tech_enigmatic_shields"
					#_ESC
					last_increased_tech = "nhsc_tech_advanced_shields_1"
					last_increased_tech = "nhsc_tech_shields_cyclonic_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_shield_6 } }
				give_technology = { tech = z_fw_tech_device_shield_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_enigmatic_shields }
						has_global_flag = acot_activated
						has_technology = tech_enigmatic_power_core	#_ACOT
					}
					give_technology = { tech = tech_enigmatic_shields message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = tech_dark_matter_deflector }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = tech_dark_matter_deflector message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_advanced_shields_1 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_advanced_shields_1 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_shields_cyclonic_1 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_shields_cyclonic_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_dark_matter_deflector_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_advanced_shields_2"
					last_increased_tech = "nhsc_tech_shields_cyclonic_2"
					last_increased_tech = "nhsc_tech_dark_matter_shields_2"
					last_increased_tech = "nhsc_tech_psionic_shield_2"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_shield_7 } }
				give_technology = { tech = z_fw_tech_device_shield_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_dark_matter_deflector_ae }
						has_global_flag = acot_activated
						has_technology = tech_dark_matter_power_core_ae	#_ACOT
					}
					give_technology = { tech = tech_dark_matter_deflector_ae message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_advanced_shields_2 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_advanced_shields_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_shields_cyclonic_2 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_shields_cyclonic_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_dark_matter_shields_2 }
						has_global_flag = nhsc_v30
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = nhsc_tech_dark_matter_shields_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_psionic_shield_2 }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_psionic_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_psionic_shield_2 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_shield"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_waveforcearmor"
					last_increased_tech = "nhsc_tech_shields_cyclonic_3"
					last_increased_tech = "nhsc_tech_dark_matter_shields_3"
					last_increased_tech = "nhsc_tech_atfield"
				}
			}
			if = {
				limit = {
					NOT = { has_technology = z_fw_tech_device_shield_8 }
				}
				give_technology = { tech = z_fw_tech_device_shield_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ACOT
				if = {
					limit = {
						NOT = { has_technology = tech_stellarite_shield }
						has_global_flag = acot_activated
						has_technology = tech_stellarite_reactor	#_ACOT
					}
					give_technology = { tech = tech_stellarite_shield message = no }
				}
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_waveforcearmor }
						has_global_flag = nhsc_v30
						has_technology = nhsc_tech_chrono_spatial_weapons	#_ESC
					}
					give_technology = { tech = nhsc_tech_waveforcearmor message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_shields_cyclonic_3 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_shields_cyclonic_3 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_dark_matter_shields_3 }
						has_global_flag = nhsc_v30
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = nhsc_tech_dark_matter_shields_3 message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_lightmatter_shield"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_shield_9 } }
				give_technology = { tech = z_fw_tech_device_shield_9 message = no }
			}
		}
	}
}


#_D reactor <id=53>
#_[z_fw_tech_device_reactor_]
country_event = {
	id = z_fw_core_tech.53
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		z_fw_is_common_country = yes
		OR = {
			###_LV6
			#_ACOT
			last_increased_tech = "tech_enigmatic_power_core"
			last_increased_tech = "tech_dark_matter_power_core"
			#_ESC
			last_increased_tech = "nhsc_tech_advanced_reactor_1"
			
			###_LV7
			#_ACOT
			last_increased_tech = "tech_dark_matter_power_core_ae"
			#_ESC
			last_increased_tech = "nhsc_tech_advanced_reactor_2"
			last_increased_tech = "nhsc_tech_dark_matter_power_core_2"
			
			###_LV8
			#_ACOT
			last_increased_tech = "tech_stellarite_reactor"
			last_increased_tech = "tech_dark_matter_power_core_pe"
			#_ESC
			last_increased_tech = "nhsc_tech_dark_matter_power_core_3"
			
			###_LV9
			#_ACOT
			last_increased_tech = "tech_lightmatter_reactor"
		}
	}
	
	immediate = {
		#_LV6
		if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_enigmatic_power_core"
					last_increased_tech = "tech_dark_matter_power_core"
					#_ESC
					last_increased_tech = "nhsc_tech_advanced_reactor_1"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_reactor_6 } }
				give_technology = { tech = z_fw_tech_device_reactor_6 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_advanced_reactor_1 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_advanced_reactor_1 message = no }
				}
			}
		}
		#_LV7
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_dark_matter_power_core_ae"
					#_ESC
					last_increased_tech = "nhsc_tech_advanced_reactor_2"
					last_increased_tech = "nhsc_tech_dark_matter_power_core_2"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_reactor_7 } }
				give_technology = { tech = z_fw_tech_device_reactor_7 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_advanced_reactor_2 }
						has_global_flag = nhsc_v30
					}
					give_technology = { tech = nhsc_tech_advanced_reactor_2 message = no }
				}
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_dark_matter_power_core_2 }
						has_global_flag = nhsc_v30
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = nhsc_tech_dark_matter_power_core_2 message = no }
				}
			}
		}
		#_LV8
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_stellarite_reactor"
					last_increased_tech = "tech_dark_matter_power_core_pe"
					#_ESC
					last_increased_tech = "nhsc_tech_dark_matter_power_core_3"
				}
			}
			if = {
				limit = {
					NOT = { has_technology = z_fw_tech_device_reactor_8 }
				}
				give_technology = { tech = z_fw_tech_device_reactor_8 message = no }
			}
			#_联动
			if = {
				limit = { has_global_flag = z_fw_core_weap_tech_linkage }
				#_ESC
				if = {
					limit = {
						NOT = { has_technology = nhsc_tech_dark_matter_power_core_3 }
						has_global_flag = nhsc_v30
						has_technology = tech_dark_matter_power_core	#_VANILLA
					}
					give_technology = { tech = nhsc_tech_dark_matter_power_core_3 message = no }
				}
			}
		}
		#_LV9
		else_if = {
			limit = {
				OR = {
					#_ACOT
					last_increased_tech = "tech_lightmatter_reactor"
				}
			}
			if = {
				limit = { NOT = { has_technology = z_fw_tech_device_reactor_9 } }
				give_technology = { tech = z_fw_tech_device_reactor_9 message = no }
			}
		}
	}
}
