# Fallen Empire Effects #
create_fe_fringe_colony = {
	set_planet_flag = fallen_empire_world
	prevent_anomaly = yes
	set_owner = ROOT
	add_building = building_ancient_palace
	add_building = building_fe_stronghold
	add_building = building_fe_dome
	add_building = building_affluence_center
	add_building = building_nourishment_center
	add_building = building_class_4_singularity
	add_building = building_class_4_singularity
	add_building = building_dimensional_fabricator
	add_building = building_dimensional_fabricator
	add_building = building_nano_forge
	while = {
		count = 5
		add_district = district_city
	}
	while = {
		count = 2
		add_district = district_generator
	}
	while = {
		count = 2
		add_district = district_mining
	}
	while = {
		count = 2
		add_district = district_farming
	}
	while = {
		count = 12
		create_pop = {
			species = owner_main_species
		}
	}
	while = {
		count = 20
		create_pop = {
			species = event_target:fe_servants
		}
	}
}

create_fe_spiritualist_fringe_colony = {
	set_planet_flag = fallen_empire_world
	prevent_anomaly = yes
	set_owner = ROOT
	add_building = building_ancient_palace
	add_building = building_fe_stronghold
	add_building = building_fe_dome
	add_building = building_class_4_singularity
	add_building = building_class_4_singularity
	add_building = building_dimensional_fabricator
	add_building = building_dimensional_fabricator
	add_building = building_nano_forge
	while = {
		count = 4
		add_district = district_city
	}
	while = {
		count = 2
		add_district = district_generator
	}
	while = {
		count = 2
		add_district = district_mining
	}
	while = {
		count = 2
		add_district = district_farming
	}
	while = {
		count = 23
		create_pop = {
			species = owner_main_species
		}
	}
}

create_fe_servant_species = {
	create_species = {
		name = random
		class = random_non_machine
		portrait = random
		traits = random
		traits = {
			trait = "trait_nerve_stapled"
			trait = "trait_strong"
			trait = "trait_charismatic"
		}
	}
	last_created_species = {
		 set_slavery_type = { country = this.owner type = slavery_domestic cooldown = yes } 
	}
}

create_common_ground_member_1 = {
	if = {
		limit = { 
			root = { has_spiritualist_government = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_spiritualist"
				ethic = "ethic_fanatic_spiritualist"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			root = { has_militarist_government = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_militarist"
				ethic = "ethic_fanatic_militarist"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { has_pacifist_government = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_pacifist"
				ethic = "ethic_fanatic_pacifist"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { OR = { has_materialist_government = yes is_machine_empire = yes } }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_materialist"
				ethic = "ethic_fanatic_materialist"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = {
				OR = {
					is_authoritarian = yes
					is_hive_empire = yes
				}
			}
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_authoritarian"
				ethic = "ethic_fanatic_authoritarian"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { is_egalitarian = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_egalitarian"
				ethic = "ethic_fanatic_egalitarian"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else = {
		create_country = {
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_fanatic_xenophile"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
}

create_common_ground_member_2 = {
	if = {
		limit = {
			root = {
				OR = {
					is_hive_empire = yes
					AND = {
						is_xenophile = yes
						is_authoritarian = yes
					}
				}
			}
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = auth_hive_mind
			ethos = {
				ethic = "ethic_gestalt_consciousness"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { has_spiritualist_government = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_spiritualist"
				ethic = "ethic_fanatic_spiritualist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			root = { has_militarist_government = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_militarist"
				ethic = "ethic_fanatic_militarist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { has_pacifist_government = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_pacifist"
				ethic = "ethic_fanatic_pacifist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { has_materialist_government = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_materialist"
				ethic = "ethic_fanatic_materialist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { is_authoritarian = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_authoritarian"
				ethic = "ethic_fanatic_authoritarian"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { is_egalitarian = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_egalitarian"
				ethic = "ethic_fanatic_egalitarian"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			root = { is_machine_empire = yes }
		}
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			ethos = {
				ethic = "ethic_gestalt_consciousness"
			}
			authority = auth_machine_intelligence
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else = {
		create_country = {
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_common_ground_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_fanatic_xenophile"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
}

create_hegemon_member_1 = {
	if = {
		limit = { 
			root = { has_spiritualist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_spiritualist"
				ethic = "ethic_fanatic_spiritualist"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			root = { has_militarist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_militarist"
				ethic = "ethic_fanatic_militarist"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { has_pacifist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_pacifist"
				ethic = "ethic_fanatic_pacifist"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { has_materialist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_materialist"
				ethic = "ethic_fanatic_materialist"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { is_authoritarian = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_authoritarian"
				ethic = "ethic_fanatic_authoritarian"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { is_egalitarian = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_egalitarian"
				ethic = "ethic_fanatic_egalitarian"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
	else = {
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_1_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_fanatic_xenophile"
			}
			effect = {
				save_event_target_as = fed_member_1
				establish_communications_no_message = root
			}
		}
	}
}

create_hegemon_member_2 = {
	if = {
		limit = { 
			root = { has_spiritualist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_spiritualist"
				ethic = "ethic_fanatic_spiritualist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			root = { has_militarist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_militarist"
				ethic = "ethic_fanatic_militarist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { has_pacifist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_pacifist"
				ethic = "ethic_fanatic_pacifist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { has_materialist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_materialist"
				ethic = "ethic_fanatic_materialist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { is_authoritarian = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_authoritarian"
				ethic = "ethic_fanatic_authoritarian"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = { 
			root = { is_egalitarian = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_egalitarian"
				ethic = "ethic_fanatic_egalitarian"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			event_target:fed_member_1 = { has_spiritualist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_spiritualist"
				ethic = "ethic_fanatic_spiritualist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			event_target:fed_member_1 = { has_militarist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_militarist"
				ethic = "ethic_fanatic_militarist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			event_target:fed_member_1 = { has_pacifist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_pacifist"
				ethic = "ethic_fanatic_pacifist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			event_target:fed_member_1 = { has_materialist_government = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_materialist"
				ethic = "ethic_fanatic_materialist"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			event_target:fed_member_1 = { is_authoritarian = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_authoritarian"
				ethic = "ethic_fanatic_authoritarian"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else_if = {
		limit = {
			event_target:fed_member_1 = { is_egalitarian = yes }
		}
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_egalitarian"
				ethic = "ethic_fanatic_egalitarian"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
	else = {
		create_country = {
			name = random
			name_list = random
			species = event_target:fed_planet_2_species
			type = default
			origin = "origin_hegemon_npc"
			ignore_initial_colony_error = yes
			day_zero_contact = no
			randomize_ethos = yes
			ethos = {
				ethic = "ethic_xenophile"
				ethic = "ethic_fanatic_xenophile"
			}
			effect = {
				save_event_target_as = fed_member_2
				establish_communications_no_message = root
			}
		}
	}
}

# Given a species, create a mod with trait_cybernetic and apply to all pops, leaders
# and armies that have the original species and the same owner as the scope object.
# Scope: Something that has a species and an owner
create_cybernetic_species_mod = {
	species = {
		create_species = {
			is_mod = yes
			name = this
			plural = this
			class = this
			portrait = this
			traits = this
			homeworld = this
			traits = {
				ideal_planet_class = this
				trait = trait_cybernetic
			}
		}
		save_event_target_as = changing_species
	}

	owner = {
		
		every_owned_pop = {
			limit = { is_exact_same_species = event_target:changing_species }
			change_species = last_created_species
			if = {
				limit = { has_trait = trait_primitive_cybernetic }
				modify_species = {
					species = this
					remove_trait = trait_primitive_cybernetic
				}
			}
		}
		every_owned_leader = {
			limit = { is_exact_same_species = event_target:changing_species }
			change_species = last_created_species
		}
		every_pool_leader = {
			limit = { is_exact_same_species = event_target:changing_species }
			change_species = last_created_species
		}
		every_owned_army = {
			limit = {
				exists = species
				is_exact_same_species = event_target:changing_species
			}
			change_species = last_created_species
		}
		every_owned_ship = {
			limit = {
				is_ship_class = shipclass_colonizer
				is_exact_same_species = event_target:changing_species
			}
			change_species = last_created_species
		}
	}
}

# root/this = planet
assimilation_effect = {
	random_owned_pop = {
		limit = {
			has_citizenship_type = {
				type = citizenship_assimilation
				country = root.owner
			}
		}
		if = { # ascended synths
			limit = {
				root.owner = {
					has_country_flag = synthetic_empire
				}
			}
			get_ascended_synth_traits = yes
			change_species = root.owner
			set_ascended_synth_traits = yes
		}
		else_if = { # reprograming machine empire pops
			limit = {
				species = { has_trait = trait_machine_unit }
				root.owner = {
					is_gestalt = no
					has_technology = tech_droid_workers
				}
			}
			modify_species = {
				species = this
				remove_trait = trait_machine_unit
				add_trait = trait_mechanical
				add_traits_at_start_of_list = yes
				change_scoped_species = yes
			}
		}
		else = {
			random_galaxy_species = {
				limit = {
					has_species_flag = assimilation_species_of_species@prev.species
					has_species_flag = assimilation_species_of_empire@root.owner
				}
				save_event_target_as = convert_to_species
			}
			species = {
				save_event_target_as = old_species
			}
			change_species = event_target:convert_to_species
			root = {
				change_variable = {
					which = assimilation_counter
					value = -1
				}
				while = { #to avoid doing the random_galaxy_species thing too many times
					limit = {
						exists = event_target:old_species
						check_variable = {
							which = assimilation_counter
							value > 0
						}
						any_owned_species = {
							is_same_value = event_target:old_species
						}
					}
					random_owned_pop = {
						limit = {
							is_exact_same_species = event_target:old_species
						}
						change_species = event_target:convert_to_species
						apply_post_assimilation_effects = yes
					}
					change_variable = {
						which = assimilation_counter
						value = -1
					}
				}
			}
			apply_post_assimilation_effects = yes
		}
	}
}

# Adds a trait to a leader
add_random_leader_trait = {
	if = { #Is a science ship commander
		limit = {
			leader_class = scientist
			NOR = {
				is_researching_area = society
				is_researching_area = engineering
				is_researching_area = physics
			}
		}
		while = {
			limit = {
				NOT = { has_leader_flag = has_gained_trait }
			}
			random_list = {
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_adaptable }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_adaptable
						set_timed_leader_flag = { flag = gained_leader_trait_adaptable days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_resilient }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_resilient
						set_timed_leader_flag = { flag = gained_leader_trait_resilient days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							has_valid_civic = civic_hive_one_mind
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_stubborn 
								has_trait = leader_trait_rigid_programming
								owner = { has_authority = "auth_hive_mind" }
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_stubborn
							set_timed_leader_flag = { flag = gained_leader_trait_stubborn days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_rigid_programming
							set_timed_leader_flag = { flag = gained_leader_trait_rigid_programming days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							has_valid_civic = civic_hive_one_mind
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_substance_abuser }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_substance_abuser
						set_timed_leader_flag = { flag = gained_leader_trait_substance_abuser days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							has_valid_civic = civic_hive_one_mind
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_arrested_development  }
						}
						add_trait = leader_trait_arrested_development
						set_timed_leader_flag = { flag = gained_leader_trait_arrested_development days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_meticulous }
						}
						add_trait = leader_trait_meticulous
						set_timed_leader_flag = { flag = gained_leader_trait_meticulous days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_spark_of_genius }
						}
						add_trait = leader_trait_spark_of_genius
						set_timed_leader_flag = { flag = gained_leader_trait_spark_of_genius days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_carefree }
						}
						add_trait = leader_trait_carefree
						set_timed_leader_flag = { flag = gained_leader_trait_carefree days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_roamer 
								has_trait = leader_trait_cataloger
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_roamer 
							set_timed_leader_flag = { flag = gained_leader_trait_roamer days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_cataloger
							set_timed_leader_flag = { flag = gained_leader_trait_cataloger days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_archaeologist
								has_trait = leader_trait_archaeologist_ancrel 
							}
						}
						if = {
							limit = {
								owner = { has_ancrel = yes }
							}
							add_trait = leader_trait_archaeologist_ancrel 
							set_timed_leader_flag = { flag = leader_trait_archaeologist_ancrel days = 7 }
						}
						if = {
							limit = {
								owner = { has_ancrel = no }
							}
							add_trait = leader_trait_archaeologist
							set_timed_leader_flag = { flag = leader_trait_archaeologist days = 7 }
						}

						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_maniacal }
						}
						add_trait = leader_trait_maniacal
						set_timed_leader_flag = { flag = gained_leader_trait_maniacal days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_custom_AI_assistant }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_custom_AI_assistant
						set_timed_leader_flag = { flag = gained_leader_trait_custom_AI_assistant days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_materials }
						}
						add_trait = leader_trait_expertise_materials
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_materials days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_propulsion }
						}
						add_trait = leader_trait_expertise_propulsion
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_propulsion days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_voidcraft }
						}
						add_trait = leader_trait_expertise_voidcraft
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_voidcraft days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_industry }
						}
						add_trait = leader_trait_expertise_industry
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_industry days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_field_manipulation }
						}
						add_trait = leader_trait_expertise_field_manipulation
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_field_manipulation days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_particles }
						}
						add_trait = leader_trait_expertise_particles
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_particles days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_computing }
						}
						add_trait = leader_trait_expertise_computing
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_computing days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_expertise_psionics
								owner = { has_ethic = ethic_gestalt_consciousness }
								species = { has_trait = trait_mechanical }
							}
						}
						add_trait = leader_trait_expertise_psionics
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_psionics days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_new_worlds }
						}
						add_trait = leader_trait_expertise_new_worlds
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_new_worlds days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_statecraft }
						}
						add_trait = leader_trait_expertise_statecraft
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_statecraft days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_biology }
						}
						add_trait = leader_trait_expertise_biology
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_biology days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_military_theory }
						}
						add_trait = leader_trait_expertise_military_theory
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_military_theory days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							has_valid_civic = civic_hive_one_mind
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_paranoid }
						}
						add_trait = leader_trait_paranoid
						set_timed_leader_flag = { flag = gained_leader_trait_paranoid days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
			}
		}
		owner = { country_event = { id = leader.21} }
	}
	if = {
		limit = {
			leader_class = admiral
		}
		while = {
			limit = {
				NOT = { has_leader_flag = has_gained_trait }
			}
			random_list = {
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_adaptable }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_adaptable
						set_timed_leader_flag = { flag = gained_leader_trait_adaptable days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_resilient
								owner = { has_ethic = ethic_gestalt_consciousness }
								species = { has_trait = trait_mechanical }
							}
						}
						add_trait = leader_trait_resilient
						set_timed_leader_flag = { flag = gained_leader_trait_resilient days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							has_valid_civic = civic_hive_one_mind
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_stubborn 
								has_trait = leader_trait_rigid_programming
								owner = { has_authority = "auth_hive_mind" }
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_stubborn
							set_timed_leader_flag = { flag = gained_leader_trait_stubborn days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_rigid_programming
							set_timed_leader_flag = { flag = gained_leader_trait_rigid_programming days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							has_valid_civic = civic_hive_one_mind
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_substance_abuser }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_substance_abuser
						set_timed_leader_flag = { flag = gained_leader_trait_substance_abuser days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							has_valid_civic = civic_hive_one_mind
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_arrested_development  }
						}
						add_trait = leader_trait_arrested_development
						set_timed_leader_flag = { flag = gained_leader_trait_arrested_development days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_trickster }
						}
						add_trait = leader_trait_trickster
						set_timed_leader_flag = { flag = gained_leader_trait_trickster days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_fleet_logistician
								has_trait = leader_trait_maintenance_loop
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_fleet_logistician
							set_timed_leader_flag = { flag = gained_leader_trait_fleet_logistician days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_maintenance_loop
							set_timed_leader_flag = { flag = gained_leader_trait_maintenance_loop days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_engineer }
						}
						add_trait = leader_trait_engineer
						set_timed_leader_flag = { flag = gained_leader_trait_engineer days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_aggressive }
						}
						add_trait = leader_trait_aggressive
						set_timed_leader_flag = { flag = gained_leader_trait_aggressive days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_cautious }
						}
						add_trait = leader_trait_cautious
						set_timed_leader_flag = { flag = gained_leader_trait_cautious days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_scout }
						}
						add_trait = leader_trait_scout
						set_timed_leader_flag = { flag = gained_leader_trait_scout days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_unyielding }
						}
						add_trait = leader_trait_unyielding
						set_timed_leader_flag = { flag = gained_leader_trait_unyielding days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_gale_speed }
						}
						add_trait = leader_trait_gale_speed
						set_timed_leader_flag = { flag = gained_leader_trait_gale_speed days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							has_valid_civic = civic_hive_one_mind
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_lethargic }
						}
						add_trait = leader_trait_lethargic
						set_timed_leader_flag = { flag = gained_leader_trait_lethargic days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				10 = {
					modifier = {
						factor = 0
						OR = {
							NOT = { has_global_flag = TechAscendant_active }
							owner = { NOT = { has_technology = tech_military_theory_breakthrough } }
						}
					}
					modifier = {
						factor = 1.25
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_strategist }
						}
						add_trait = leader_trait_strategist
						set_timed_leader_flag = { flag = gained_leader_trait_strategist days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				10 = {
					modifier = {
						factor = 0
						OR = {
							NOT = { has_global_flag = TechAscendant_active }
							owner = { NOT = { has_technology = tech_military_theory_breakthrough } }
						}
					}
					modifier = {
						factor = 1.25
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_tactician }
						}
						add_trait = leader_trait_tactician
						set_timed_leader_flag = { flag = gained_leader_trait_tactician days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
			}
		}
		owner = { country_event = { id = leader.22} }
	}
	if = {
		limit = {
			leader_class = governor
		}
		while = {
			limit = {
				NOT = { has_leader_flag = has_gained_trait }
			}
			random_list = {
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_adaptable }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_adaptable
						set_timed_leader_flag = { flag = gained_leader_trait_adaptable days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_resilient }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_resilient
						set_timed_leader_flag = { flag = gained_leader_trait_resilient days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_stubborn 
								has_trait = leader_trait_rigid_programming
								owner = { has_authority = "auth_hive_mind" }
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_stubborn
							set_timed_leader_flag = { flag = gained_leader_trait_stubborn days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_rigid_programming
							set_timed_leader_flag = { flag = gained_leader_trait_rigid_programming days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_substance_abuser }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_substance_abuser
						set_timed_leader_flag = { flag = gained_leader_trait_substance_abuser days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_righteous
								has_trait = leader_trait_corrupt
							}
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_corrupt
						set_timed_leader_flag = { flag = gained_leader_trait_corrupt days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 1.1
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_righteous
								has_trait = leader_trait_corrupt
							}
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_righteous
						set_timed_leader_flag = { flag = gained_leader_trait_righteous days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_arrested_development  }
						}
						add_trait = leader_trait_arrested_development
						set_timed_leader_flag = { flag = gained_leader_trait_arrested_development days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_iron_fist
								owner = { allows_slavery = no }
								owner = { has_authority = "auth_machine_intelligence" }
							}
						}
						add_trait = leader_trait_iron_fist
						set_timed_leader_flag = { flag = gained_leader_trait_iron_fist days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_architectural_interest }
						}
						add_trait = leader_trait_architectural_interest
						set_timed_leader_flag = { flag = gained_leader_trait_architectural_interest days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 1.1
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_intellectual 
								has_trait = leader_trait_analytical
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_intellectual 
							set_timed_leader_flag = { flag = gained_leader_trait_intellectual days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_analytical
							set_timed_leader_flag = { flag = gained_leader_trait_analytical days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_environmental_engineer 
								has_trait = leader_trait_bulldozer
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_environmental_engineer 
							set_timed_leader_flag = { flag = gained_leader_trait_environmental_engineer days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_bulldozer
							set_timed_leader_flag = { flag = gained_leader_trait_bulldozer days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
			}
		}
		owner = { country_event = { id = leader.23} }
	}
	if = {
		limit = {
			leader_class = general
		}
		while = {
			limit = {
				NOT = { has_leader_flag = has_gained_trait }
			}
			random_list = {
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_adaptable }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_adaptable
						set_timed_leader_flag = { flag = gained_leader_trait_adaptable days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_resilient }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_resilient
						set_timed_leader_flag = { flag = gained_leader_trait_resilient days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_stubborn 
								has_trait = leader_trait_rigid_programming
								owner = { has_authority = "auth_hive_mind" }
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_stubborn
							set_timed_leader_flag = { flag = gained_leader_trait_stubborn days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_rigid_programming
							set_timed_leader_flag = { flag = gained_leader_trait_rigid_programming days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_substance_abuser }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_substance_abuser
						set_timed_leader_flag = { flag = gained_leader_trait_substance_abuser days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_arrested_development  }
						}
						add_trait = leader_trait_arrested_development
						set_timed_leader_flag = { flag = gained_leader_trait_arrested_development days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							owner = {
								NOT = { has_authority = "auth_machine_intelligence" }
							}						
							NOT = { has_trait = leader_trait_butcher }
							NOT = { has_trait = leader_trait_restrained }						
						}
						add_trait = leader_trait_restrained
						set_timed_leader_flag = { flag = gained_leader_trait_restrained days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 1.1
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_charismatic 
								has_trait = leader_trait_demoralizer
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_charismatic 
							set_timed_leader_flag = { flag = gained_leader_trait_charismatic days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_demoralizer
							set_timed_leader_flag = { flag = gained_leader_trait_demoralizer days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_butcher }
							NOT = { has_trait = leader_trait_restrained }
						}
						add_trait = leader_trait_butcher
						set_timed_leader_flag = { flag = gained_leader_trait_butcher days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_glory_seeker
								has_trait = leader_trait_demoralizer
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_glory_seeker
							set_timed_leader_flag = { flag = gained_leader_trait_glory_seeker days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_demoralizer
							set_timed_leader_flag = { flag = gained_leader_trait_demoralizer days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_armchair_commander 
								has_trait = leader_trait_erratic_morality_core
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_armchair_commander 
							set_timed_leader_flag = { flag = gained_leader_trait_armchair_commander days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_erratic_morality_core
							set_timed_leader_flag = { flag = gained_leader_trait_erratic_morality_core days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_army_logistician 
								has_trait = leader_trait_parts_cannibalizer
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_army_logistician 
							set_timed_leader_flag = { flag = gained_leader_trait_army_logistician days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_parts_cannibalizer
							set_timed_leader_flag = { flag = gained_leader_trait_parts_cannibalizer days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
			}
		}
		owner = { country_event = { id = leader.24} }
	}
	if = {
		limit = {
			leader_class = ruler
		}
		while = {
			limit = {
				NOT = { has_leader_flag = has_gained_trait }
			}
			random_list = {
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_adaptable }
						}
						add_trait = leader_trait_adaptable
						set_timed_leader_flag = { flag = gained_leader_trait_adaptable days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						exists = owner
						NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_resilient }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_resilient
						set_timed_leader_flag = { flag = gained_leader_trait_resilient days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					modifier = {
						factor = 0
						owner = { has_authority = auth_hive_mind }
					}
					if = {
						limit = {
							NOR = { 
								has_trait = leader_trait_stubborn 
								has_trait = leader_trait_rigid_programming
								owner = { has_authority = "auth_hive_mind" }
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_stubborn
							set_timed_leader_flag = { flag = gained_leader_trait_stubborn days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_rigid_programming
							set_timed_leader_flag = { flag = gained_leader_trait_rigid_programming days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = { has_ethic = "ethic_gestalt_consciousness" }
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_substance_abuser }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_substance_abuser
						set_timed_leader_flag = { flag = gained_leader_trait_substance_abuser days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					modifier = {
						factor = 0
						owner = { has_ethic = "ethic_gestalt_consciousness" }
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_arrested_development }
						}
						add_trait = leader_trait_arrested_development
						set_timed_leader_flag = { flag = gained_leader_trait_arrested_development days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { has_ethic = "ethic_gestalt_consciousness" }
					}
					if = {
						limit = {
							NOR = { 
								has_trait = trait_ruler_corvette_focus
								has_trait = trait_ruler_destroyer_focus
								has_trait = trait_ruler_cruiser_focus
								has_trait = trait_ruler_battleship_focus 
							}
							owner = { has_technology = "tech_destroyers" }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = trait_ruler_corvette_focus
						set_timed_leader_flag = { flag = gained_trait_ruler_corvette_focus days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { has_ethic = "ethic_gestalt_consciousness" }
					}
					if = {
						limit = {
							NOR = { 
								has_trait = trait_ruler_corvette_focus
								has_trait = trait_ruler_destroyer_focus
								has_trait = trait_ruler_cruiser_focus
								has_trait = trait_ruler_battleship_focus 
							}
							owner = { has_technology = "tech_destroyers" }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = trait_ruler_destroyer_focus
						set_timed_leader_flag = { flag = gained_trait_ruler_destroyer_focus days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { has_ethic = "ethic_gestalt_consciousness" }
					}
					if = {
						limit = {
							NOR = { 
								has_trait = trait_ruler_corvette_focus
								has_trait = trait_ruler_destroyer_focus
								has_trait = trait_ruler_cruiser_focus
								has_trait = trait_ruler_battleship_focus 
							}
							owner = { has_technology = "tech_cruisers" }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = trait_ruler_cruiser_focus
						set_timed_leader_flag = { flag = gained_trait_ruler_cruiser_focus days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { has_ethic = "ethic_gestalt_consciousness" }
					}
					if = {
						limit = {
							NOR = { 
								has_trait = trait_ruler_corvette_focus
								has_trait = trait_ruler_destroyer_focus
								has_trait = trait_ruler_cruiser_focus
								has_trait = trait_ruler_battleship_focus 
							}
							owner = { has_technology = "tech_battleships" }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = trait_ruler_battleship_focus
						set_timed_leader_flag = { flag = gained_trait_ruler_battleship_focus days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { has_ethic = "ethic_gestalt_consciousness" }
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_recruiter }
						}
						add_trait = trait_ruler_recruiter
						set_timed_leader_flag = { flag = gained_trait_ruler_recruiter days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { has_ethic = "ethic_gestalt_consciousness" }
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_fortifier }
						}
						add_trait = trait_ruler_fortifier
						set_timed_leader_flag = { flag = gained_trait_ruler_fortifier days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_logistic_understanding }
						}
						add_trait = trait_ruler_logistic_understanding
						set_timed_leader_flag = { flag = gained_trait_ruler_logistic_understanding days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_military_pioneer }
						}
						add_trait = trait_ruler_military_pioneer
						set_timed_leader_flag = { flag = gained_trait_ruler_military_pioneer days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_warlike }
						}
						add_trait = trait_ruler_warlike
						set_timed_leader_flag = { flag = gained_trait_ruler_warlike days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_architectural_sense }
							NOT = { has_trait = trait_ruler_architectural_sense_gestalt }
						}
						if = {
							limit = { owner = { has_ethic = "ethic_gestalt_consciousness"  } }
							add_trait = trait_ruler_architectural_sense_gestalt
						}
						else = {
							add_trait = trait_ruler_architectural_sense
						}
						set_timed_leader_flag = { flag = gained_trait_ruler_architectural_sense days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_frontier_spirit }
						}
						add_trait = trait_ruler_frontier_spirit
						set_timed_leader_flag = { flag = gained_trait_ruler_frontier_spirit days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_world_shaper }
						}
						add_trait = trait_ruler_world_shaper
						set_timed_leader_flag = { flag = gained_trait_ruler_world_shaper days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_home_in_the_sky }
						}
						add_trait = trait_ruler_home_in_the_sky
						set_timed_leader_flag = { flag = gained_trait_ruler_home_in_the_sky days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_industrialist }
						}
						add_trait = trait_ruler_industrialist
						set_timed_leader_flag = { flag = gained_trait_ruler_industrialist days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				100 = {
					modifier = {
						factor = 0.1
						owner = { has_ethic = "ethic_gestalt_consciousness"  }
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_eye_for_talent }
							NOT = { has_trait = trait_ruler_pooled_knowledge }
						}
						if = {
							limit = { owner = { has_ethic = "ethic_gestalt_consciousness"  } }
							add_trait = trait_ruler_pooled_knowledge
						}
						else = {
							add_trait = trait_ruler_eye_for_talent
						}
						set_timed_leader_flag = { flag = gained_trait_ruler_eye_for_talent days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 1.25
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_cutthroat_politics has_valid_civic = civic_ruthless_competition }
						}
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_deep_connections }
							NOT = { has_trait = trait_ruler_deep_connections_gestalt }
						}
						if = {
							limit = { owner = { has_ethic = "ethic_gestalt_consciousness"  } }
							add_trait = trait_ruler_deep_connections_gestalt
						}
						else = {
							add_trait = trait_ruler_deep_connections
						}
						set_timed_leader_flag = { flag = gained_trait_ruler_deep_connections days = 7 }
						add_trait = trait_ruler_deep_connections
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 1.1
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_champion_of_the_people }
							NOT = { has_trait = trait_ruler_one_mind }
						}
						if = {
							limit = { owner = { has_ethic = "ethic_gestalt_consciousness"  } }
							add_trait = trait_ruler_one_mind
						}
						else = {
							add_trait = trait_ruler_champion_of_the_people
						}
						set_timed_leader_flag = { flag = gained_trait_ruler_champion_of_the_people days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_expansionist }
						}
						add_trait = trait_ruler_expansionist
						set_timed_leader_flag = { flag = gained_trait_ruler_expansionist days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { has_authority = "auth_machine_intelligence" }
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_fertility_preacher }
						}
						add_trait = trait_ruler_fertility_preacher
						set_timed_leader_flag = { flag = gained_trait_ruler_fertility_preacher days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { has_ethic = "ethic_gestalt_consciousness"  }
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_investor }
						}
						add_trait = trait_ruler_investor
						set_timed_leader_flag = { flag = gained_trait_ruler_investor days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_explorer }
						}
						add_trait = trait_ruler_explorer
						set_timed_leader_flag = { flag = gained_trait_ruler_explorer days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_fleet_organizer }
							NOT = { has_trait = leader_trait_fleet_organizer_gestalt }
						}
						if = {
							limit = { owner = { has_ethic = "ethic_gestalt_consciousness"  } }
							add_trait = leader_trait_fleet_organizer_gestalt
						}
						else = {
							add_trait = leader_trait_fleet_organizer
						}
						set_timed_leader_flag = { flag = gained_leader_trait_fleet_organizer days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 1.25
						exists = owner
						owner = {
							OR = { has_valid_civic = civic_philosopher_king has_valid_civic = civic_corp_philosopher_king has_valid_civic = civic_hive_one_mind }
						}
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_charismatic }
							NOT = { has_trait = trait_ruler_subsumed_will }
						}
						if = {
							limit = { owner = { has_ethic = "ethic_gestalt_consciousness"  } }
							add_trait = trait_ruler_subsumed_will
						}
						else = {
							add_trait = trait_ruler_charismatic
						}
						set_timed_leader_flag = { flag = gained_trait_ruler_charismatic days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { NOT = { has_ethic = "ethic_gestalt_consciousness" } }
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_reformer_gestalt }
						}
						add_trait = leader_trait_reformer_gestalt
						set_timed_leader_flag = { flag = gained_leader_trait_reformer_gestalt days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						owner = { NOT = { has_ethic = "ethic_gestalt_consciousness" } }
					}
					if = {
						limit = {
							NOT = { has_trait = trait_ruler_from_the_ranks_gestalt }
						}
						add_trait = trait_ruler_from_the_ranks_gestalt
						set_timed_leader_flag = { flag = gained_trait_ruler_from_the_ranks_gestalt days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
			}
		}
		owner = { country_event = { id = leader.25} }
	}
}